(function(){"use strict";var e={457:function(e,t,n){var o=n(751),r=n(641),s=n(33),i=n.p+"img/sheldon.815b2445.png";const a={id:"app"},l={style:{"margin-top":"20px"}},u={key:0,src:i,alt:"Sheldon",class:"sheldon"},c={key:0,class:"room-form"},m={key:1,class:"waiting-room"},d={key:1},p={key:2,class:"win-screen"},h={key:3,class:"game-container"},k={class:"players-list"},f={key:0,class:"flag-container"},y=["src"],g={class:"options"},C=["onClick","disabled"],w={key:0,class:"feedback"},b={key:1};function v(e,t,n,i,v,E){return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("h1",null,[t[5]||(t[5]=(0,r.eW)("Fun With Flags")),(0,r.Lk)("div",l,[v.roomCode||v.gameStarted?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("img",u))])]),v.roomCode||v.gameStarted?v.gameStarted||v.winner?v.winner?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("h2",null,(0,s.v_)(v.winner)+" has won the game!",1),v.isCreator?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>E.resetGame&&E.resetGame(...e)),class:"reset-button"},"Continue")):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("div",k,[t[7]||(t[7]=(0,r.Lk)("h3",null,"Players",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.players,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.nickname},(0,s.v_)(e.nickname)+": "+(0,s.v_)(e.score),1)))),128))])]),v.currentFlag?((0,r.uX)(),(0,r.CE)("div",f,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Guess the Country",-1)),(0,r.Lk)("img",{src:v.currentFlag.url,alt:"Flag",class:"flag-image"},null,8,y),(0,r.Lk)("div",g,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.currentFlag.options,((e,t)=>((0,r.uX)(),(0,r.CE)("button",{key:t,onClick:t=>E.submitAnswer(e),class:"option-button",disabled:v.answered},(0,s.v_)(e),9,C)))),128))]),v.feedback?((0,r.uX)(),(0,r.CE)("p",w,(0,s.v_)(v.feedback),1)):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",b,t[9]||(t[9]=[(0,r.Lk)("p",null,"Waiting for the next flag...",-1)])))])):((0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("h2",null,"Room Code: "+(0,s.v_)(v.roomCode),1),t[6]||(t[6]=(0,r.Lk)("p",null,"Players:",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.players,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.nickname},(0,s.v_)(e.nickname)+": "+(0,s.v_)(e.score),1)))),128))]),v.isCreator?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>E.startGame&&E.startGame(...e)),class:"start-button"},"Start Game")):((0,r.uX)(),(0,r.CE)("p",d,"Waiting for the room creator to start the game..."))])):((0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("div",null,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>E.createRoom&&E.createRoom(...e)),class:"room-button"},"Create Room")]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.tempRoomCode=e),type:"text",placeholder:"Enter Room Code",class:"room-input"},null,512),[[o.Jo,v.tempRoomCode]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>E.joinRoom&&E.joinRoom(...e)),class:"room-button"},"Join Room")])]))])}var E={data(){return{ws:null,nickname:null,roomCode:null,tempRoomCode:"",players:[],isCreator:!1,gameStarted:!1,currentFlag:null,feedback:"",answered:!1,winner:null}},methods:{setupWebSocket(){this.ws=new WebSocket("wss://funwithflags.onrender.com"),this.ws.onmessage=e=>{const t=JSON.parse(e.data);"roomCreated"===t.type?(this.roomCode=t.roomCode,this.isCreator=!0):"roomJoined"===t.type?this.roomCode=t.roomCode:"playersUpdate"===t.type?this.players=t.players:"gameStarted"===t.type?this.gameStarted=!0:"newFlag"===t.type?(this.currentFlag=t.flag,this.feedback="",this.answered=!1):"gameWon"===t.type?(this.winner=t.winner,this.gameStarted=!1):"gameReset"===t.type?(this.players=t.players,this.winner=null,this.gameStarted=!0):"error"===t.type&&alert(t.message)}},createRoom(){this.nickname||(this.nickname=prompt("Enter your nick name:")),this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify({type:"createRoom",nickname:this.nickname})):console.error("WebSocket is not connected.")},joinRoom(){this.nickname||(this.nickname=prompt("Enter your nickname:")),this.ws.send(JSON.stringify({type:"joinRoom",roomCode:this.tempRoomCode,nickname:this.nickname}))},startGame(){this.ws.send(JSON.stringify({type:"startGame"}))},submitAnswer(e){this.answered=!0,this.ws.send(JSON.stringify({type:"answer",answer:e})),e===this.currentFlag.country?this.feedback="Correct!":this.feedback=`Wrong! The correct answer was ${this.currentFlag.country}.`},resetGame(){this.ws.send(JSON.stringify({type:"resetGame"}))}},mounted(){this.setupWebSocket()},beforeUnmount(){this.ws&&this.ws.close()}},S=n(262);const L=(0,S.A)(E,[["render",v]]);var O=L;(0,o.Ef)(O).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],s=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,r,s]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/FunWithFlags/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,i=o[0],a=o[1],l=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var c=l(n)}for(t&&t(o);u<i.length;u++)s=i[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(457)}));o=n.O(o)})();
//# sourceMappingURL=app.5c938b9d.js.map